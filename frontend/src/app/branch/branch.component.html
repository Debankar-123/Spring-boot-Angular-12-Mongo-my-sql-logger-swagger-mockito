<nav class="navbar bg-body-tertiary bg-dark">
  <div class="container">
    <a class="navbar-brand" href="/branch">
      <img
        src="assets/images/branch1.png"
        alt="Branch Logo"
        width="180"
        height="60"
      />
    </a>
    <ul class="nav justify-content-center">
      <li class="nav-item">
        <button
          type="button"
          class="btn btn-outline-primary"
          (click)="getAllBranches()"
        >
          Get All Branches
        </button>
      </li>
      <li class="nav-item">
        <button
          type="button"
          class="btn btn-outline-primary"
          data-bs-toggle="modal"
          data-bs-target="#AddModal"
        >
          Add Branch
        </button>
      </li>
      <li class="nav-item">
        <button
          type="button"
          class="btn btn-outline-primary"
          routerLink="/chairman"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-box-arrow-left"
            viewBox="0 0 16 16"
          >
            <path
              fill-rule="evenodd"
              d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"
            />
            <path
              fill-rule="evenodd"
              d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"
            />
          </svg>
          Back
        </button>
      </li>
    </ul>
  </div>
</nav>

<hr />

<table class="table table-hover">
  <thead>
    <tr>
      <th scope="col">BranchCode</th>
      <th scope="col">HospitalId</th>
      <th scope="col">BranchName</th>
      <th scope="col">Email</th>
      <th scope="col">District</th>
      <th scope="col">State</th>
      <th scope="col">Country</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let branch of branchList">
      <th>{{ branch.branchCode }}</th>
      <th>{{ branch.hospitalId }}</th>
      <th>{{ branch.branchName }}</th>
      <th>{{ branch.email }}</th>
      <th>{{ branch.dist }}</th>
      <th>{{ branch.state }}</th>
      <th>{{ branch.country }}</th>
      <td>
        <button
          type="button"
          class="btn btn-outline-primary me-2"
          data-bs-toggle="modal"
          data-bs-target="#updateModel"
          (click)="edit(branch.branchCode)"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-pencil-square"
            viewBox="0 0 16 16"
          >
            <path
              d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"
            />
            <path
              fill-rule="evenodd"
              d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"
            />
          </svg>
        </button>
        <button
          type="button"
          class="btn btn-outline-danger"
          (click)="deleteBranch(branch)"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-trash"
            viewBox="0 0 16 16"
          >
            <path
              d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"
            />
            <path
              fill-rule="evenodd"
              d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"
            />
          </svg>
        </button>
      </td>
    </tr>
  </tbody>
</table>
<!--<div>
  {{ branchObj.branchCode }}
  {{ branchObj.hospitalId }}
  {{ branchObj.branchName }}
  {{ branchObj.email }}
  {{ branchObj.dist }}
  {{ branchObj.state }}
  {{ branchObj.country }}
</div>-->

<!-- Add Modal -->
<div
  class="modal fade"
  id="AddModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <img
          src="assets/images/hospital.png"
          alt="Bootstrap"
          width="60"
          height="60"
        />
        <h1 class="modal-title fs-5" id="exampleModalLabel">
          Adding Branch Form
        </h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="branchDetails">
          <!--[formGroup]="addBranchForm"> (ngSubmit)="onSubmit()" class="horizontalform"-->
          <!-- <div class="form-group">
  <label for="branchCode">Branch Code:</label>
  <input type="text" #branchCode formControlName="branchCode" name="branchCode" id="branchCode"  placeholder="Branch Code" class="form-control">
</div>
  <br> -->

          <div class="form-group">
            <label for="hospitalId">Hospital ID:</label>
            <input
              type="number"
              #hospitalId
              formControlName="hospitalId"
              id="hospitalId"
              placeholder="Hospital Id"
              class="form-control"
            />
            <!-- <div *ngIf="branchDetails.get('hospitalId').touched && branchDetails.get('hospitalId').hasError('required')">Hospital Id required</div>
      <div *ngIf="branchDetails.controls['hospitalId'].touched && branchDetails.controls['hospitalId'].hasError('minlength')">Hospital Id min 2 required</div> -->
            <!-- <div *ngIf="branchDetails.get('hospitalId').touched && branchDetails.get('hospitalId').hasError('minlength')">Hospital Id min 2 required</div> -->
          </div>

          <br />
          <div class="form-group">
            <label for="branchName">Branch Name:</label>
            <input
              type="text"
              #branchName
              formControlName="branchName"
              name="branchName"
              id="branchName"
              placeholder="Branch Name"
              class="form-control"
            />
          </div>

          <br />
          <div class="form-group">
            <label for="branchManager">Email: </label>
            <input
              type="text"
              #email
              formControlName="email"
              name="email"
              id="email"
              placeholder="email"
              class="form-control"
            />
          </div>

          <br />
          <div class="form-group">
            <label for="dist">District:</label>
            <input
              type="text"
              formControlName="dist"
              name="dist"
              id="dist"
              placeholder="District"
              class="form-control"
            />
          </div>

          <br />
          <div class="form-group">
            <label for="state">State:</label>
            <input
              type="text"
              #dist
              formControlName="state"
              name="state"
              id="state"
              placeholder="State"
              class="form-control"
            />
          </div>

          <br />
          <div class="form-group">
            <label for="country">Country:</label>
            <input
              type="text"
              #country
              formControlName="country"
              name="country"
              id="country"
              placeholder="Country"
              class="form-control"
            />
          </div>
          <br />
          <br />
          <!-- <button mat-raised-button color="primary" type="submit" (click)="addBranch()">Add Branch</button> -->
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Close
        </button>
        <button
          type="button"
          class="btn btn-primary"
          data-bs-dismiss="modal"
          (click)="addBranch()"
        >
          Adding Branch
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Update Modal-->
<div
  class="modal fade"
  id="updateModel"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <img
          class="i"
          src="assets/images/update.jpg"
          alt="Bootstrap"
          width="75"
          height="85"
        />

        <h1 class="modal-title fs-5" id="staticBackdropLabel">
          Update Branch Form
        </h1>
        <!-- <img class="i" src="assets/images/hospital.png" alt="Bootstrap" width="60" height="60"> -->
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="branchDetails">
          <!--[formGroup]="updateBranchForm" (ngSubmit)="onSubmit()" class="horizontalform"-->
          <!-- <label for="branchCode">Branch Code:</label>
            <input type="text"  #branchCode [(ngModel)]="br.branchCode"  formControlName="branchCode" name="branchCode" id="branchCode" placeholder="Branch Code" class="form-control" >
          
          <br> -->

          <label for="hospitalId">Hospital ID:</label>
          <input
            type="number"
            #hospitalId
            [(ngModel)]="br.hospitalId"
            formControlName="hospitalId"
            name="hospitalId"
            id="hospitalId"
            placeholder="Hospital Id"
            class="form-control"
          />

          <br />
          <label for="branchName">Branch Name:</label>
          <input
            type="text"
            #branchName
            [(ngModel)]="br.branchName"
            formControlName="branchName"
            name="branchName"
            id="branchName"
            placeholder="Branch Name"
            class="form-control"
          />

          <br />
          <label for="branchManager">Email: </label>
          <input
            type="text"
            #email
            [(ngModel)]="br.email"
            formControlName="email"
            name="email"
            id="email"
            placeholder="Branch Manager"
            class="form-control"
          />

          <br />
          <label for="dist">District:</label>
          <input
            type="text"
            #dist
            [(ngModel)]="br.dist"
            formControlName="dist"
            name="dist"
            id="dist"
            placeholder="District"
            class="form-control"
          />

          <br />
          <label for="state">State:</label>
          <input
            type="text"
            #state
            [(ngModel)]="br.state"
            formControlName="state"
            name="state"
            id="state"
            placeholder="State"
            class="form-control"
          />

          <br />
          <label for="country">Country:</label>
          <input
            type="text"
            #country
            [(ngModel)]="br.country"
            formControlName="country"
            name="country"
            id="country"
            placeholder="Country"
            class="form-control"
          />

          <br />
          <br />
          <!-- <button mat-raised-button color="primary" type="submit">Update Branch</button> -->
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Close
        </button>
        <button
          type="button"
          class="btn btn-primary"
          [disabled]="branchDetails.invalid"
          data-bs-dismiss="modal"
          (click)="updateBranch()"
        >
          Updating Branch
        </button>
      </div>
    </div>
  </div>
</div>
